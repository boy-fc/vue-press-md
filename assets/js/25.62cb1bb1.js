(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{421:function(t,e,a){"use strict";a.r(e);var r=a(56),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"抓包工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#抓包工具"}},[t._v("#")]),t._v(" 抓包工具")]),t._v(" "),a("h4",{attrs:{id:"网页抓包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网页抓包"}},[t._v("#")]),t._v(" 网页抓包")]),t._v(" "),a("p",[t._v("推荐 whistle + SwitchyOmega 对网页进行抓包")]),t._v(" "),a("h4",{attrs:{id:"whistle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#whistle"}},[t._v("#")]),t._v(" whistle")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Favwo%2Fwhistle%2Fblob%2Fmaster%2FREADME-zh_CN.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("github.com/avwo/whistl…"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d79ca136a2634637a2c3b92573f438cf~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image.png"}})]),t._v(" "),a("h4",{attrs:{id:"安装whistle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装whistle"}},[t._v("#")]),t._v(" 安装whistle")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install -g whistle\n复制代码\n")])])]),a("p",[t._v("npm默认镜像是在国外，有时候安装速度很慢或者出现安装不了的情况，如果无法安装或者安装很慢，可以使用taobao的镜像安装：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ npm install cnpm -g --registry=https://registry.npm.taobao.org\n$ cnpm install -g whistle\n\n或者直接指定镜像安装：\n$ npm install whistle -g --registry=https://registry.npm.taobao.org\n复制代码\n")])])]),a("h4",{attrs:{id:"启动whistle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动whistle"}},[t._v("#")]),t._v(" 启动whistle:")]),t._v(" "),a("blockquote",[a("p",[t._v("最新版本的whistle支持三种等价的命令"),a("code",[t._v("whistle")]),t._v("、"),a("code",[t._v("w2")]),t._v("、"),a("code",[t._v("wproxy")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ w2 start\n复制代码\n")])])]),a("p",[a("em",[t._v("Note: 如果要防止其他人访问配置页面，可以在启动时加上登录用户名和密码 "),a("code",[t._v("-n yourusername -w yourpassword")]),t._v("。")])]),t._v(" "),a("p",[t._v("重启whsitle:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ w2 restart\n复制代码\n")])])]),a("p",[t._v("停止whistle:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ w2 stop\n复制代码\n")])])]),a("p",[t._v("调试模式启动whistle(主要用于查看whistle的异常及插件开发):")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ w2 run\n复制代码\n")])])]),a("p",[t._v("启动完whistle后，最后一步需要配置代理")]),t._v(" "),a("h4",{attrs:{id:"配置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置代理"}},[t._v("#")]),t._v(" 配置代理")]),t._v(" "),a("h5",{attrs:{id:"配置信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置信息"}},[t._v("#")]),t._v(" 配置信息")]),t._v(" "),a("ol",[a("li",[t._v("代理服务器：127.0.0.1 (如果部署在远程服务器或虚拟机上，改成对应服务器或虚拟机的ip即可)")]),t._v(" "),a("li",[t._v("默认端口：8899 (如果端口被占用，可以在启动时通过 "),a("code",[t._v("-p")]),t._v(" 来指定新的端口，更多信息可以通过执行命令行 "),a("code",[t._v("w2 help")]),t._v(" ("),a("code",[t._v("v0.7.0")]),t._v("及以上版本也可以使用"),a("code",[t._v("w2 help")]),t._v(") 查看)")])]),t._v(" "),a("h4",{attrs:{id:"switchyomega"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#switchyomega"}},[t._v("#")]),t._v(" SwitchyOmega")]),t._v(" "),a("p",[t._v("安装SwitchyOmega： "),a("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdetail%2Fproxy-switchyomega%2Fpadekgcemlokbadohgkifijomclgjgif%3Fhl%3Dzh-CN",target:"_blank",rel:"noopener noreferrer"}},[t._v("chrome.google.com/webstore/de…"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee237151f254408383f1626073d35f2a~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("安装完安装SwitchyOmega后讲代理设置到下图即可 port要与whistle启动时的端口同步")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2139e921f7484fb6b37eeea81187391e~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image.png"}})]),t._v(" "),a("h4",{attrs:{id:"访问配置页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问配置页面"}},[t._v("#")]),t._v(" 访问配置页面")]),t._v(" "),a("p",[t._v("启动whistle及配置完代理后，用"),a("strong",[t._v("Chrome浏览器(由于css兼容性问题界面只支持Chrome浏览器)")]),t._v(" 访问配置页面，如果能正常打开页面，whistle安装启动完毕，可以开始使用。")]),t._v(" "),a("p",[t._v("可以通过以下两种方式来访问配置页面：")]),t._v(" "),a("ul",[a("li",[t._v("方式1：域名访问 "),a("a",{attrs:{href:"https://link.juejin.cn?target=http%3A%2F%2Flocal.whistlejs.com%2F",target:"_blank",rel:"noopener noreferrer"}},[t._v("local.whistlejs.com/"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("方式2（推荐）：通过ip+端口来访问，形式如 "),a("code",[t._v("http://whistleServerIP:whistlePort/")]),t._v(" e.g. "),a("a",{attrs:{href:"https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3A8899%2F",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:8899"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("方式2：通过命令行参数 "),a("code",[t._v("-P xxxx")]),t._v(" 自定义webui的端口("),a("code",[t._v("xxxx")]),t._v("表示要设置的端口号)，自定义端口支持上述两种方式访问，也支持 "),a("a",{attrs:{href:"https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3Axxxx%2F",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:xxxx"),a("OutboundLink")],1)])]),t._v(" "),a("h4",{attrs:{id:"安装根证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装根证书"}},[t._v("#")]),t._v(" 安装根证书")]),t._v(" "),a("p",[t._v("安装证书请参考文档: "),a("a",{attrs:{href:"https://link.juejin.cn?target=http%3A%2F%2Fwproxy.org%2Fwhistle%2Fwebui%2Fhttps.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("wproxy.org/whistle/web…"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"localhost抓包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#localhost抓包"}},[t._v("#")]),t._v(" localhost抓包")]),t._v(" "),a("p",[t._v("localhost下抓包可以通过ifconfig找到自己的ip 通过ip访问自己的项目来抓包")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7088dc926e3045cc8cc9fa851167c6f7~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image.png"}})]),t._v(" "),a("h4",{attrs:{id:"charles-抓包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#charles-抓包"}},[t._v("#")]),t._v(" Charles 抓包")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/24f527fd752c4e81b33658a21c30e5d7~tplv-k3u1fbpfcp-watermark.awebp?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("详细介绍可以参考："),a("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fwww.jianshu.com%2Fp%2Fdd6a24f0c73d",target:"_blank",rel:"noopener noreferrer"}},[t._v("www.jianshu.com/p/dd6a24f0c…"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("作者：小鹏鹏\n链接：https://juejin.cn/post/7033219578561986597")]),t._v(" "),a("h4",{attrs:{id:"fiddler手机抓包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fiddler手机抓包"}},[t._v("#")]),t._v(" Fiddler手机抓包")]),t._v(" "),a("h5",{attrs:{id:"_1、fiddler-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、fiddler-简介"}},[t._v("#")]),t._v(" 1、Fiddler 简介")]),t._v(" "),a("p",[t._v("Fiddler 是一款强大的抓包工具，原理是以 web 代理服务器的形式进行工作的："),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0f6e61bf7e7d46e8acd9ac493ef9f273~tplv-k3u1fbpfcp-watermark.awebp",alt:"HTTP 代理"}})]),t._v(" "),a("h5",{attrs:{id:"_2、fiddler-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、fiddler-配置"}},[t._v("#")]),t._v(" 2、Fiddler 配置")]),t._v(" "),a("h6",{attrs:{id:"_2-1-允许监听https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-允许监听https"}},[t._v("#")]),t._v(" 2.1 允许监听https")]),t._v(" "),a("p",[t._v("Fiddler 如果抓取 https 协议会话需要进一步配置，在 Tools ->Options 菜单下，选择HTTPS标签并配置如下： "),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b9f9b07b9b7942a2aea49c65d04be5ae~tplv-k3u1fbpfcp-watermark.awebp",alt:"image-20201215142708142"}})]),t._v(" "),a("h6",{attrs:{id:"_2-2-允许远程连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-允许远程连接"}},[t._v("#")]),t._v(" 2.2 允许远程连接")]),t._v(" "),a("p",[t._v("手机抓取需要配置远程连接，在 Tools ->Options 菜单下，选择Connections标签并配置如下：")]),t._v(" "),a("p",[t._v("监听端口 8888 并允许远程连接 "),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e1b6556f8ad74049b6c7b6040d523ce4~tplv-k3u1fbpfcp-watermark.awebp",alt:"image-20201215144559283"}})]),t._v(" "),a("blockquote",[a("p",[t._v("防火墙需要开放 "),a("code",[t._v("8888")]),t._v(" 端口")])]),t._v(" "),a("hr"),t._v(" "),a("h5",{attrs:{id:"_3、手机配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、手机配置"}},[t._v("#")]),t._v(" 3、手机配置")]),t._v(" "),a("blockquote",[a("p",[t._v("需要电脑与手机处于同一网段（例如同一局域网）")])]),t._v(" "),a("p",[t._v("以 iphone 为例")]),t._v(" "),a("h6",{attrs:{id:"_3-1-下载证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-下载证书"}},[t._v("#")]),t._v(" 3.1 下载证书")]),t._v(" "),a("p",[t._v("打开手机浏览器，输入 http://【fiddler电脑IP地址】:【fiddler设置的端口号】，例如 "),a("a",{attrs:{href:"https://link.juejin.cn?target=http%3A%2F%2F192.168.123.100%3A8888",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://192.168.123.100:8888"),a("OutboundLink")],1),t._v(" 可以下载证书并安装。在打开的页面中，点击 FiddlerRoot certificate 下载证书，点击允许 "),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/82bb76bfc2a949869abc9c30ed5eaf6c~tplv-k3u1fbpfcp-watermark.awebp",alt:"img"}})]),t._v(" "),a("h6",{attrs:{id:"_3-2-安装证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-安装证书"}},[t._v("#")]),t._v(" 3.2 安装证书")]),t._v(" "),a("p",[t._v("在Settings系统设置中，点击 Profile Downloaded（已下载的配置文件） "),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/770d4875cb6647a8a93ecb018543d942~tplv-k3u1fbpfcp-watermark.awebp",alt:"img"}})]),t._v(" "),a("p",[t._v("点击 Install ，安装证书 "),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1db6616115784f738086da426efc6b7d~tplv-k3u1fbpfcp-watermark.awebp",alt:"img"}})]),t._v(" "),a("blockquote",[a("p",[t._v("不同系统手机的下载路径不一样，例如有的是： 设置->通用->关于本机->证书信任设置")])]),t._v(" "),a("h6",{attrs:{id:"_3-3-配置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-配置代理"}},[t._v("#")]),t._v(" 3.3 配置代理")]),t._v(" "),a("p",[t._v("配置手机无线信号的代理")]),t._v(" "),a("p",[t._v("手机设置 -> WLAN -> 选择无线网络 -> HTTP Proxy，选择 Manual，Server 为 Fiddler 的电脑 ip 地址，端口号为 Fiddler 的端口号： "),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae43d6f710194c5ea25552d3525472db~tplv-k3u1fbpfcp-watermark.awebp",alt:"img"}})]),t._v(" "),a("p",[t._v("此时操作浏览器或APP，在 fiddler 中可以看到完成的请求和响应数据： "),a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/51e9ebaaded745a190700f350142d04b~tplv-k3u1fbpfcp-watermark.awebp",alt:"image-20201215151817118"}})]),t._v(" "),a("p",[t._v("作者：郎涯技术\n链接：https://juejin.cn/post/6978086089600794631")])])}),[],!1,null,null,null);e.default=s.exports}}]);